/**
 * 天赋树静态配置（UI 原型用）
 * 说明：此阶段仅用于前端面板展示，尚未接入实际数值系统
 */

export type TalentCategory = 'core' | 'attack' | 'defense' | 'utility' | 'growth' | 'mobility';
export type TalentResource = 'core' | 'star' | 'time' | 'crown';

export interface TalentNodeConfig {
  id: string;
  title: string;
  description: string;
  shortLabel: string;
  category: TalentCategory;
  resource: TalentResource;
  cost: number;
  maxLevel: number;
  initialLevel?: number;
  position: { x: number; y: number };
  connections: string[];
}

export const TALENT_RESOURCE_META: Record<TalentResource, { label: string; color: number }> = {
  core: { label: '核心能量', color: 0x43d9ff },
  star: { label: '星级点数', color: 0xffd166 },
  time: { label: '时间棱晶', color: 0xc49bff },
  crown: { label: '王冠令牌', color: 0x4de3a1 },
};

export const TALENT_NODES: TalentNodeConfig[] = [
  {
    id: 'core_origin',
    title: '战舰核心',
    description: '升级战舰的动力核心，能够探索更广阔的宇宙，开放更多的关卡挑战。',
    shortLabel: 'CORE',
    category: 'core',
    resource: 'star',
    cost: 1,
    maxLevel: 10,
    initialLevel: 0,
    position: { x: 360, y: 600 },
    connections: ['atk_multicrit', 'def_barrier', 'growth_synergy', 'util_overclock', 'mobility_dash'],
  },
  {
    id: 'atk_multicrit',
    title: '多段暴击',
    description: '暴击可连锁触发一次额外判定，每次连锁造成额外 60% 伤害。',
    shortLabel: 'ATK',
    category: 'attack',
    resource: 'star',
    cost: 1,
    maxLevel: 1,
    position: { x: 250, y: 460 },
    connections: ['core_origin', 'atk_chain', 'atk_focus'],
  },
  {
    id: 'atk_chain',
    title: '链式爆发',
    description: '击败敌人时刷新主武器冷却，并使下一次射击伤害 +35%。',
    shortLabel: 'CHAIN',
    category: 'attack',
    resource: 'star',
    cost: 1,
    maxLevel: 2,
    position: { x: 180, y: 360 },
    connections: ['atk_multicrit', 'atk_core_plus'],
  },
  {
    id: 'atk_focus',
    title: '精准瞄准',
    description: '子弹散布 -20%，射程 +15%。',
    shortLabel: 'FOCUS',
    category: 'attack',
    resource: 'star',
    cost: 1,
    maxLevel: 1,
    position: { x: 180, y: 520 },
    connections: ['atk_multicrit'],
  },
  {
    id: 'atk_core_plus',
    title: '核心超频',
    description: '暴击伤害 +50%，但会提高 10% 武器过热速度（后续系统待定）。',
    shortLabel: 'OC',
    category: 'attack',
    resource: 'star',
    cost: 2,
    maxLevel: 1,
    position: { x: 120, y: 280 },
    connections: ['atk_chain'],
  },
  {
    id: 'def_barrier',
    title: '磁流护盾',
    description: '护盾上限 +40，恢复速度 +25%。',
    shortLabel: 'DEF',
    category: 'defense',
    resource: 'crown',
    cost: 1,
    maxLevel: 2,
    position: { x: 470, y: 460 },
    connections: ['core_origin', 'def_recovery', 'def_guardian'],
  },
  {
    id: 'def_recovery',
    title: '自适应护膜',
    description: '受到伤害 2.5 秒后额外恢复 15 点护盾。',
    shortLabel: 'REGEN',
    category: 'defense',
    resource: 'crown',
    cost: 1,
    maxLevel: 1,
    position: { x: 540, y: 360 },
    connections: ['def_barrier'],
  },
  {
    id: 'def_guardian',
    title: '守护矩阵',
    description: '生命值低于 35% 时获得短暂无敌（冷却 45 秒）。',
    shortLabel: 'GUARD',
    category: 'defense',
    resource: 'crown',
    cost: 2,
    maxLevel: 1,
    position: { x: 540, y: 530 },
    connections: ['def_barrier', 'def_core_plus'],
  },
  {
    id: 'def_core_plus',
    title: '向量反冲',
    description: '护盾破碎时释放冲击波，对周围敌人造成伤害并击退。',
    shortLabel: 'PULSE',
    category: 'defense',
    resource: 'crown',
    cost: 2,
    maxLevel: 1,
    position: { x: 610, y: 600 },
    connections: ['def_guardian'],
  },
  {
    id: 'growth_synergy',
    title: '资源共振',
    description: '经验获取 +25%，拾取时额外获得少量 Credits（局外货币占位）。',
    shortLabel: 'XP',
    category: 'growth',
    resource: 'core',
    cost: 1,
    maxLevel: 2,
    position: { x: 220, y: 650 },
    connections: ['core_origin', 'growth_magnet', 'growth_interest'],
  },
  {
    id: 'growth_magnet',
    title: '磁性扩展',
    description: '经验磁吸范围 +40%，磁吸速度 +40%。',
    shortLabel: 'MAG',
    category: 'growth',
    resource: 'core',
    cost: 1,
    maxLevel: 1,
    position: { x: 150, y: 720 },
    connections: ['growth_synergy'],
  },
  {
    id: 'growth_interest',
    title: '利息算法',
    description: '每通过 60 秒未受伤，额外获得一次小额经验奖励。',
    shortLabel: 'YLD',
    category: 'growth',
    resource: 'core',
    cost: 2,
    maxLevel: 3,
    position: { x: 200, y: 810 },
    connections: ['growth_synergy', 'growth_branch'],
  },
  {
    id: 'growth_branch',
    title: '跃迁投资',
    description: '激活任意成长型天赋时，下一张升级卡额外 +1 选择权。',
    shortLabel: 'EXP',
    category: 'growth',
    resource: 'core',
    cost: 2,
    maxLevel: 1,
    position: { x: 120, y: 900 },
    connections: ['growth_interest'],
  },
  {
    id: 'util_overclock',
    title: '能量调优',
    description: '主动技能冷却 -10%，能量回复 +15%。',
    shortLabel: 'CDR',
    category: 'utility',
    resource: 'time',
    cost: 1,
    maxLevel: 2,
    position: { x: 500, y: 650 },
    connections: ['core_origin', 'util_focus', 'util_sync'],
  },
  {
    id: 'util_focus',
    title: '操作缓存',
    description: '升级后可保存 1 个额外的升级选项（占位逻辑）。',
    shortLabel: 'CACHE',
    category: 'utility',
    resource: 'time',
    cost: 1,
    maxLevel: 1,
    position: { x: 560, y: 720 },
    connections: ['util_overclock'],
  },
  {
    id: 'util_sync',
    title: '系统同步',
    description: '每激活 3 个天赋，获得一次全屏磁吸冲击（冷却 90 秒）。',
    shortLabel: 'SYNC',
    category: 'utility',
    resource: 'time',
    cost: 2,
    maxLevel: 2,
    position: { x: 620, y: 680 },
    connections: ['util_overclock', 'util_branch'],
  },
  {
    id: 'util_branch',
    title: '集群协议',
    description: '解锁多分支的天赋拓展，为后续版本做准备。',
    shortLabel: 'CLUSTER',
    category: 'utility',
    resource: 'time',
    cost: 2,
    maxLevel: 1,
    position: { x: 660, y: 760 },
    connections: ['util_sync'],
  },
  {
    id: 'mobility_dash',
    title: '短距闪跃',
    description: '解锁主动闪避，冷却 6 秒。（实际玩法待设计）',
    shortLabel: 'DASH',
    category: 'mobility',
    resource: 'crown',
    cost: 1,
    maxLevel: 1,
    position: { x: 360, y: 780 },
    connections: ['core_origin', 'mobility_agile', 'mobility_warp'],
  },
  {
    id: 'mobility_agile',
    title: '机动训练',
    description: '移速 +12%，闪避冷却 -1 秒。',
    shortLabel: 'AGI',
    category: 'mobility',
    resource: 'crown',
    cost: 1,
    maxLevel: 2,
    position: { x: 320, y: 880 },
    connections: ['mobility_dash'],
  },
  {
    id: 'mobility_warp',
    title: '瞬移回响',
    description: '闪避终点生成残影，延迟爆炸造成伤害。',
    shortLabel: 'WARP',
    category: 'mobility',
    resource: 'crown',
    cost: 2,
    maxLevel: 1,
    position: { x: 420, y: 880 },
    connections: ['mobility_dash'],
  },
];


