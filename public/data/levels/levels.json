{
  "version": "1.0.0",
  "levels": [
    {
      "id": "linear_01",
      "name": "线性关卡1",
      "type": "timed",
      "duration": 200,
      "difficulty": 3,
      "spawnMode": "wave_script",
      "description": "脚本化波次：3波连发→休息→4波连发，有节奏的战斗",
      "waves": [
        { "time": 0, "enemies": ["hex_basic"], "count": 3, "formation": "line" },
        { "time": 2, "enemies": ["hex_basic"], "count": 3, "formation": "line" },
        { "time": 4, "enemies": ["arrow_fast"], "count": 5, "formation": "v_shape" },
        
        { "time": 6, "enemies": ["hex_basic"], "count": 4, "formation": "random" },
        { "time": 8, "enemies": ["triangle_sniper"], "count": 3, "formation": "line", "initialFireDelay": 1.0 },
        { "time": 10, "enemies": ["arrow_fast"], "count": 4, "formation": "wave" },
        
        { "time": 18, "enemies": ["hex_basic"], "count": 5, "formation": "v_shape" },
        { "time": 20, "enemies": ["arrow_fast"], "count": 6, "formation": "random" },
        { "time": 22, "enemies": ["triangle_sniper"], "count": 4, "formation": "circle", "weaponMultipliers": { "fireRate": 1.1 } },
        
        { "time": 30, "enemies": ["arrow_fast"], "count": 5, "formation": "line" },
        { "time": 32, "enemies": ["hex_basic"], "count": 6, "formation": "wave" },
        { "time": 34, "enemies": ["triangle_sniper"], "count": 3, "formation": "v_shape", "weaponMultipliers": { "fireRate": 1.1 } },
        
        { "time": 42, "enemies": ["hex_basic"], "count": 7, "formation": "circle" },
        { "time": 44, "enemies": ["triangle_sniper"], "count": 4, "formation": "random", "weaponMultipliers": { "fireRate": 1.2 } },
        { "time": 46, "enemies": ["arrow_fast"], "count": 5, "formation": "line" },
        
        { "time": 54, "enemies": ["arrow_fast"], "count": 6, "formation": "wave" },
        { "time": 56, "enemies": ["hex_basic"], "count": 8, "formation": "v_shape" },
        { "time": 58, "enemies": ["triangle_sniper"], "count": 5, "formation": "random", "weaponMultipliers": { "fireRate": 1.2, "damage": 1.1 } },
        
        { "time": 66, "enemies": ["hex_basic"], "count": 6, "formation": "line" },
        { "time": 68, "enemies": ["triangle_sniper"], "count": 4, "formation": "v_shape", "weaponMultipliers": { "fireRate": 1.3 } },
        { "time": 70, "enemies": ["arrow_fast"], "count": 7, "formation": "wave" },
        { "time": 72, "enemies": ["triangle_sniper"], "count": 5, "formation": "circle", "weaponMultipliers": { "fireRate": 1.3, "damage": 1.2 } },
        
        { "time": 82, "enemies": ["hex_basic"], "count": 7, "formation": "random" },
        { "time": 84, "enemies": ["arrow_fast"], "count": 8, "formation": "line" },
        { "time": 86, "enemies": ["triangle_sniper"], "count": 5, "formation": "v_shape", "weaponMultipliers": { "fireRate": 1.4 } },
        { "time": 88, "enemies": ["triangle_sniper"], "count": 6, "formation": "wave", "weaponMultipliers": { "fireRate": 1.4, "damage": 1.2 } },
        
        { "time": 98, "enemies": ["arrow_fast"], "count": 9, "formation": "circle" },
        { "time": 100, "enemies": ["triangle_sniper"], "count": 6, "formation": "random", "weaponMultipliers": { "fireRate": 1.5 } },
        { "time": 102, "enemies": ["hex_basic"], "count": 8, "formation": "line" },
        { "time": 104, "enemies": ["triangle_sniper"], "count": 7, "formation": "v_shape", "weaponMultipliers": { "fireRate": 1.5, "damage": 1.3 } },
        
        { "time": 114, "enemies": ["hex_basic"], "count": 9, "formation": "wave" },
        { "time": 116, "enemies": ["triangle_sniper"], "count": 7, "formation": "circle", "weaponMultipliers": { "fireRate": 1.6, "damage": 1.3 } },
        { "time": 118, "enemies": ["arrow_fast"], "count": 10, "formation": "random" },
        { "time": 120, "enemies": ["triangle_sniper"], "count": 8, "formation": "line", "weaponMultipliers": { "fireRate": 1.6, "damage": 1.4 } },
        
        { "time": 130, "enemies": ["arrow_fast"], "count": 10, "formation": "v_shape" },
        { "time": 132, "enemies": ["triangle_sniper"], "count": 8, "formation": "wave", "weaponMultipliers": { "fireRate": 1.7, "damage": 1.4 } },
        { "time": 134, "enemies": ["hex_basic"], "count": 10, "formation": "circle" },
        { "time": 136, "enemies": ["triangle_sniper"], "count": 9, "formation": "random", "weaponMultipliers": { "fireRate": 1.7, "damage": 1.5 } },
        
        { "time": 146, "enemies": ["hex_basic"], "count": 10, "formation": "line" },
        { "time": 148, "enemies": ["triangle_sniper"], "count": 9, "formation": "v_shape", "weaponMultipliers": { "fireRate": 1.8, "damage": 1.6 } },
        { "time": 150, "enemies": ["arrow_fast"], "count": 12, "formation": "wave" },
        { "time": 152, "enemies": ["triangle_sniper"], "count": 10, "formation": "circle", "weaponMultipliers": { "fireRate": 1.8, "damage": 1.7 } },
        
        { "time": 162, "enemies": ["arrow_fast"], "count": 12, "formation": "random" },
        { "time": 164, "enemies": ["triangle_sniper"], "count": 10, "formation": "line", "weaponMultipliers": { "fireRate": 2.0, "damage": 1.8 } },
        { "time": 166, "enemies": ["hex_basic"], "count": 12, "formation": "v_shape" },
        { "time": 168, "enemies": ["triangle_sniper"], "count": 10, "formation": "wave", "weaponMultipliers": { "fireRate": 2.0, "damage": 2.0 } }
      ],
      "objective": {
        "type": "survive",
        "description": "生存 3 分钟"
      }
    },
    {
      "id": "test_level",
      "name": "测试关卡",
      "type": "timed",
      "duration": 600,
      "difficulty": 2,
      "spawnMode": "algorithm",
      "description": "算法生成：权重随机抽取敌人，难度递增",
      "difficultyScale": 1.03,
      "enemyPool": [
        { "id": "hex_basic", "weight": 3 },
        { "id": "hex_shooter", "weight": 4 },
        { "id": "arrow_fast", "weight": 3 },
        { "id": "triangle_sniper", "weight": 2 }
      ],
      "objective": {
        "type": "survive",
        "description": "生存 10 分钟"
      }
    },
    {
      "id": "enemy_test",
      "name": "敌人测试",
      "type": "timed",
      "duration": 60,
      "difficulty": 1,
      "spawnMode": "wave_script",
      "description": "敌人测试关卡：快速测试单个敌人的行为、移动和攻击",
      "waves": [
        {
          "time": 0,
          "enemies": [
            "triangle_loop",
            "triangle_loop_shooter",
            "triangle_loop",
            "triangle_loop",
            "triangle_loop",
            "triangle_loop_shooter",
            "triangle_loop",
            "triangle_loop"
          ],
          "count": 8,
          "formation": "column",
          "formation_params": { "x": 220, "spacing": 60, "y": -40 }
        },
        {
          "time": 12,
          "enemies": [
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 540, "y": -40 },
                  "circleCenter": { "x": 520, "y": 320 },
                  "radius": 150,
                  "exitPoint": { "x": 120, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.45,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop_shooter",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 540, "y": -40 },
                  "circleCenter": { "x": 520, "y": 320 },
                  "radius": 150,
                  "exitPoint": { "x": 120, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.45,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 540, "y": -40 },
                  "circleCenter": { "x": 520, "y": 320 },
                  "radius": 150,
                  "exitPoint": { "x": 120, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.45,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 540, "y": -40 },
                  "circleCenter": { "x": 520, "y": 320 },
                  "radius": 150,
                  "exitPoint": { "x": 120, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.45,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 540, "y": -40 },
                  "circleCenter": { "x": 520, "y": 320 },
                  "radius": 150,
                  "exitPoint": { "x": 120, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.45,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop_shooter",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 540, "y": -40 },
                  "circleCenter": { "x": 520, "y": 320 },
                  "radius": 150,
                  "exitPoint": { "x": 120, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.45,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 540, "y": -40 },
                  "circleCenter": { "x": 520, "y": 320 },
                  "radius": 150,
                  "exitPoint": { "x": 120, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.45,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 540, "y": -40 },
                  "circleCenter": { "x": 520, "y": 320 },
                  "radius": 150,
                  "exitPoint": { "x": 120, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.45,
                  "exitEndScale": 0.6
                }
              }
            }
          ],
          "count": 8,
          "formation": "column",
          "formation_params": { "x": 500, "spacing": 60, "y": -40 }
        },
        {
          "time": 24,
          "enemies": [
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 220, "y": 1720 },
                  "circleCenter": { "x": 360, "y": 360 },
                  "radius": 160,
                  "exitPoint": { "x": 520, "y": -200 },
                  "minArcDeg": 300,
                  "clockwise": true,
                  "entryApproachScale": 0.75,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop_shooter",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 220, "y": 1720 },
                  "circleCenter": { "x": 360, "y": 360 },
                  "radius": 160,
                  "exitPoint": { "x": 520, "y": -200 },
                  "minArcDeg": 300,
                  "clockwise": true,
                  "entryApproachScale": 0.75,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 220, "y": 1720 },
                  "circleCenter": { "x": 360, "y": 360 },
                  "radius": 160,
                  "exitPoint": { "x": 520, "y": -200 },
                  "minArcDeg": 300,
                  "clockwise": true,
                  "entryApproachScale": 0.75,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 220, "y": 1720 },
                  "circleCenter": { "x": 360, "y": 360 },
                  "radius": 160,
                  "exitPoint": { "x": 520, "y": -200 },
                  "minArcDeg": 300,
                  "clockwise": true,
                  "entryApproachScale": 0.75,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 220, "y": 1720 },
                  "circleCenter": { "x": 360, "y": 360 },
                  "radius": 160,
                  "exitPoint": { "x": 520, "y": -200 },
                  "minArcDeg": 300,
                  "clockwise": true,
                  "entryApproachScale": 0.75,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop_shooter",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 220, "y": 1720 },
                  "circleCenter": { "x": 360, "y": 360 },
                  "radius": 160,
                  "exitPoint": { "x": 520, "y": -200 },
                  "minArcDeg": 300,
                  "clockwise": true,
                  "entryApproachScale": 0.75,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 220, "y": 1720 },
                  "circleCenter": { "x": 360, "y": 360 },
                  "radius": 160,
                  "exitPoint": { "x": 520, "y": -200 },
                  "minArcDeg": 300,
                  "clockwise": true,
                  "entryApproachScale": 0.75,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.6
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 220, "y": 1720 },
                  "circleCenter": { "x": 360, "y": 360 },
                  "radius": 160,
                  "exitPoint": { "x": 520, "y": -200 },
                  "minArcDeg": 300,
                  "clockwise": true,
                  "entryApproachScale": 0.75,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.6
                }
              }
            }
          ],
          "count": 8,
          "formation": "column",
          "formation_params": { "x": 220, "spacing": 60, "y": 1720 }
        },
        {
          "time": 36,
          "enemies": [
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 360, "y": -80 },
                  "circleCenter": { "x": 360, "y": 320 },
                  "radius": 170,
                  "exitPoint": { "x": 200, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.7
                }
              }
            },
            {
              "id": "triangle_loop_shooter",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 360, "y": -80 },
                  "circleCenter": { "x": 360, "y": 320 },
                  "radius": 170,
                  "exitPoint": { "x": 200, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.7
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 360, "y": -80 },
                  "circleCenter": { "x": 360, "y": 320 },
                  "radius": 170,
                  "exitPoint": { "x": 200, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.7
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 360, "y": -80 },
                  "circleCenter": { "x": 360, "y": 320 },
                  "radius": 170,
                  "exitPoint": { "x": 200, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.7
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 360, "y": -80 },
                  "circleCenter": { "x": 360, "y": 320 },
                  "radius": 170,
                  "exitPoint": { "x": 200, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.7
                }
              }
            },
            {
              "id": "triangle_loop_shooter",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 360, "y": -80 },
                  "circleCenter": { "x": 360, "y": 320 },
                  "radius": 170,
                  "exitPoint": { "x": 200, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.7
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 360, "y": -80 },
                  "circleCenter": { "x": 360, "y": 320 },
                  "radius": 170,
                  "exitPoint": { "x": 200, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.7
                }
              }
            },
            {
              "id": "triangle_loop",
              "aiParams": {
                "auto": {
                  "entryPoint": { "x": 360, "y": -80 },
                  "circleCenter": { "x": 360, "y": 320 },
                  "radius": 170,
                  "exitPoint": { "x": 200, "y": 1500 },
                  "minArcDeg": 360,
                  "clockwise": false,
                  "exitStartScale": 0.5,
                  "exitEndScale": 0.7
                }
              }
            }
          ],
          "count": 8,
          "formation": "column",
          "formation_params": { "x": 360, "spacing": 60, "y": -40 }
        }
      ],
      "objective": {
        "type": "survive",
        "description": "测试敌人"
      }
    }
  ]
}
