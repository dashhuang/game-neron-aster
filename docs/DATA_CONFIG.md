# æ¸¸æˆæ•°æ®é…ç½®æ‰‹å†Œ

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•é€šè¿‡ JSON é…ç½®æ–‡ä»¶å®šä¹‰å’Œä¿®æ”¹æ¸¸æˆå†…å®¹ã€‚

**é‡è¦**ï¼šæ‰€æœ‰é¢œè‰²é…ç½®å¿…é¡»éµå¾ª [é¢œè‰²è®¾è®¡è§„èŒƒ](COLOR_DESIGN.md)ã€‚

---

## ğŸ¨ é¢œè‰²é…ç½®è§„èŒƒ

### é¢œè‰²å€¼æ ¼å¼

é…ç½®æ–‡ä»¶ä¸­çš„é¢œè‰²ä½¿ç”¨**åè¿›åˆ¶æ•°å€¼**ï¼ˆè€Œéåå…­è¿›åˆ¶ï¼‰ï¼š

```json
{
  "color": 47359  // 0x00b8ff çš„åè¿›åˆ¶å½¢å¼
}
```

### æ ‡å‡†é¢œè‰²å¯¹ç…§è¡¨

| å®ä½“ç±»å‹ | é¢œè‰²åç§° | åå…­è¿›åˆ¶ | åè¿›åˆ¶ | è§„èŒƒè¦æ±‚ |
|---------|---------|---------|--------|---------|
| ç©å®¶é£æœº | éœ“è™¹è“ | 0x00b8ff | 47359 | **å¿…é¡»** |
| å…­è¾¹å½¢æ•Œäºº | éœ“è™¹è“ | 0x00b8ff | 47359 | **å¿…é¡»** |
| ä¸‰è§’å½¢æ•Œäºº | éœ“è™¹ç²‰ | 0xff0088 | 16711816 | **å¿…é¡»** |
| æ–¹å½¢æ•Œäºº | éœ“è™¹ç´« | 0xaa44ff | 11158783 | **å¿…é¡»** |
| åœ†å½¢æ•Œäºº | éœ“è™¹é’ | 0x00ddff | 56831 | **å¿…é¡»** |
| Boss | éœ“è™¹ç²‰ | 0xff0088 | 16711816 | **å¿…é¡»** |
| ç»éªŒç¢ç‰‡ | éœ“è™¹é‡‘ | 0xffdd44 | 16768324 | **å¿…é¡»** |
| æ²»ç–—åŒ… | éœ“è™¹ç»¿ | 0x00ff88 | 65416 | **å¿…é¡»** |

### åœ¨çº¿è½¬æ¢å·¥å…·

å°†åå…­è¿›åˆ¶è½¬åè¿›åˆ¶ï¼š
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­
0x00b8ff  // è¾“å‡º: 47359
```

åå‘è½¬æ¢ï¼ˆåè¿›åˆ¶è½¬åå…­è¿›åˆ¶ï¼‰ï¼š
```javascript
(47359).toString(16)  // è¾“å‡º: "b8ff"
```

### å½¢çŠ¶ä¸é¢œè‰²æ˜ å°„è¡¨

| å½¢çŠ¶ | é¢œè‰²åç§° | åå…­è¿›åˆ¶ | åè¿›åˆ¶ |
|------|---------|---------|--------|
| `hexagon` | éœ“è™¹è“ | 0x00b8ff | 47359 |
| `triangle` / `arrow` | éœ“è™¹ç²‰ | 0xff0088 | 16711816 |
| `square` / `diamond` | éœ“è™¹ç´« | 0xaa44ff | 11158783 |
| `circle` | éœ“è™¹é’ | 0x00ddff | 56831 |
| `star` (Bossä¸“ç”¨) | éœ“è™¹ç²‰ | 0xff0088 | 16711816 |

### ä½¿ç”¨è§„åˆ™

1. **å½¢çŠ¶å†³å®šé¢œè‰²**ï¼šåŒä¸€å½¢çŠ¶çš„æ•Œäººå¿…é¡»ä½¿ç”¨ç›¸åŒé¢œè‰²
2. **ä¸å¯éšæ„æ›´æ”¹**ï¼šç©å®¶å’ŒBossçš„é¢œè‰²ä¸å¾—ä¿®æ”¹
3. **æ–°å¢æ•Œäºº**ï¼šæŒ‰å½¢çŠ¶é€‰æ‹©å¯¹åº”é¢œè‰²
4. **è¯¦ç»†è§„èŒƒ**ï¼šå‚è€ƒ [COLOR_DESIGN.md](COLOR_DESIGN.md)

---

## ğŸ“ é…ç½®æ–‡ä»¶ä½ç½®

æ‰€æœ‰é…ç½®æ–‡ä»¶ä½äº `public/data/` ç›®å½•ï¼š

```
public/data/
â”œâ”€â”€ enemies/
â”‚   â””â”€â”€ enemies.json      # æ•Œäººé…ç½®
â”œâ”€â”€ weapons/
â”‚   â””â”€â”€ weapons.json      # æ­¦å™¨é…ç½®
â”œâ”€â”€ players/
â”‚   â””â”€â”€ players.json      # è§’è‰²é…ç½®
â””â”€â”€ upgrades/             # å‡çº§é…ç½®ï¼ˆæœªæ¥ï¼‰
```

---

## ğŸ‘¾ æ•Œäººé…ç½® (enemies.json)

### æ ¼å¼ç¤ºä¾‹

```json
{
  "version": "1.0.0",
  "enemies": [
    {
      "id": "hex_basic",
      "name": "å…­è¾¹ç¯",
      "hp": 60,
      "speed": 40,
      "damage": 8,
      "size": 20.8,
      "color": 47359,
      "shape": "hexagon",
      "xpDrop": 2,
      "aiType": "straight_down",
      "deathEffect": {
        "type": "explosion",
        "particleCount": 15
      },
      "tags": ["geometric", "basic", "slow"]
    }
  ]
}
```

### å­—æ®µè¯´æ˜

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `id` | string | å”¯ä¸€æ ‡è¯†ç¬¦ | `"hex_basic"` |
| `name` | string | æ˜¾ç¤ºåç§° | `"å…­è¾¹ç¯"` |
| `hp` | number | ç”Ÿå‘½å€¼ | `60` |
| `speed` | number | ç§»åŠ¨é€Ÿåº¦ï¼ˆåƒç´ /ç§’ï¼‰ | `40` |
| `damage` | number | æ’å‡»ç©å®¶çš„ä¼¤å®³ | `8`ï¼ˆå…­è¾¹å½¢ï¼‰ã€`5`ï¼ˆä¸‰è§’å½¢ï¼‰ |
| `size` | number | å°ºå¯¸ï¼ˆåŠå¾„ï¼‰ | `16` |
| `color` | number | é¢œè‰²ï¼ˆåè¿›åˆ¶ï¼‰**æŒ‰å½¢çŠ¶è§„èŒƒ** | `47359` (0x00b8ff éœ“è™¹è“) å…­è¾¹å½¢ä¸“ç”¨ |
| `shape` | string | å½¢çŠ¶ç±»å‹ | `"hexagon"`, `"triangle"`, `"diamond"`, `"star"` |
| `xpDrop` | number | æ‰è½ç»éªŒå€¼ | `2` |
| `aiType` | string | AI è¡Œä¸ºç±»å‹ | `"straight_down"` / `"zigzag"` / `"tracking"` / `"looping_curve"` |
| `aiParams` | object | AI è¡Œä¸ºè‡ªå®šä¹‰å‚æ•°ï¼ˆå¯é€‰ï¼‰ | è¯¦è§ä¸‹æ–¹ `looping_curve` å‚æ•°è¯´æ˜ |
| `weaponId` | string | æ­¦å™¨IDï¼ˆå¯é€‰ï¼‰| `"enemy_straight_shot"` - å¼•ç”¨ weapons.json |
| `initialFireDelay` | number | é¦–æ¬¡å°„å‡»å»¶è¿Ÿï¼ˆç§’ï¼Œå¯é€‰ï¼‰ | `1.0` - ç”Ÿæˆåå»¶è¿Ÿå¤šä¹…å¼€å§‹å°„å‡» |
| `shootingCondition` | object | å°„å‡»æ¡ä»¶ï¼ˆå¯é€‰ï¼‰ | è§ä¸‹æ–¹è¯´æ˜ |
| `deathEffect` | object | æ­»äº¡ç‰¹æ•ˆï¼ˆå¯é€‰ï¼‰ | è§ä¸‹æ–¹è¯´æ˜ |
| `tags` | string[] | æ ‡ç­¾ï¼ˆå¯é€‰ï¼‰ | `["geometric", "basic"]` |

> ç»éªŒæ‰è½è¯´æ˜ï¼šæ¸¸æˆè¿è¡Œæ—¶ç›´æ¥è¯»å– `xpDrop` ç”Ÿæˆç»éªŒç¢ç‰‡ï¼Œä¸å†ä½¿ç”¨å›ºå®šéšæœºå€¼ã€‚è°ƒæ•´é…ç½®å³å¯å³æ—¶å½±å“å®é™…æ‰è½æ•°é‡ã€‚

> è‹¥åªå¸Œæœ›åŒä¸€æ³¢æ¬¡ä¸­çš„éƒ¨åˆ†å•ä½å¼€ç«ï¼Œæ¨èå¤åˆ¶åŸæ•Œäººé…ç½®ä¸ºâ€œå°„æ‰‹ç‰ˆâ€ï¼ˆå¦‚ `triangle_loop_shooter`ï¼‰å¹¶æŒ‚è½½æ­¦å™¨ï¼Œå†åœ¨æ³¢æ¬¡çš„ `enemies` æ•°ç»„é‡ŒæŒ‰é¡ºåºæ··æ’ä¸åŒ IDï¼Œå³å¯ç²¾ç¡®æ§åˆ¶ç¬¬å‡ ä¸ªæ•Œäººä¼šå°„å‡»ã€‚

**AI è¡Œä¸ºæšä¸¾**ï¼š

- `straight_down`ï¼šå‚ç›´ä¿¯å†²
- `zigzag`ï¼šæ°´å¹³æ‘†åŠ¨ä¸‹è½
- `tracking` / `tracking_fast` / `tracking_slow`ï¼šè¿½è¸ªç©å®¶ï¼ˆä¸åŒè½¬å‘é€Ÿåº¦ï¼‰
- `looping_curve`ï¼šçºµå‘åˆ—é˜Ÿå‚ç›´å…¥åœº â†’ 270Â° åœ†å¼§ç»•å‘è¿œä¾§ â†’ æ²¿å‡ºç”Ÿä¾§æ°´å¹³åˆ‡çº¿ç¦»åœºï¼Œæœºå¤´æŒç»­æœå‘ç§»åŠ¨æ–¹å‘

#### `looping_curve` å‚æ•°ï¼ˆ`aiParams`ï¼‰

`looping_curve` ç°æ”¯æŒ **ä¸¤ç§é…ç½®æ–¹å¼**ï¼š

1. **è‡ªåŠ¨åˆ‡çº¿æ¨¡å¼ï¼ˆæ¨èï¼‰**ï¼šé€šè¿‡ `auto` æè¿°è¿›å…¥ç‚¹ã€åœ†å¿ƒä¸ç¦»åœºç‚¹ï¼Œç³»ç»Ÿè‡ªåŠ¨æ±‚è§£ä¸‰æ®µè·¯å¾„çš„åˆ‡çº¿å¹¶æ‹¼æ¥ä¸ºå…‰æ»‘æ›²çº¿ã€‚
2. **æ‰‹åŠ¨ç²¾è°ƒæ¨¡å¼**ï¼šç»§ç»­ä½¿ç”¨ `entry / arc / exit` ä¸‰æ®µå‚æ•°è¿›è¡Œé€é¡¹å¾®è°ƒï¼›ä¸ `auto` åŒæ—¶å­˜åœ¨æ—¶ï¼Œæ‰‹åŠ¨å­—æ®µä¼šè¦†ç›–è‡ªåŠ¨æ¨ç®—ç»“æœä¸­çš„å¯¹åº”å€¼ã€‚

```json
"aiParams": {
  "auto": {
    "entryPoint": { "x": 500, "y": -40 },
    "circleCenter": { "x": 380, "y": 320 },
    "radius": 150,
    "exitPoint": { "x": 120, "y": 1500 },
    "minArcDeg": 360
  }
}
```

> `auto` ä¼šæ ¹æ®å®é™…å‡ºç”Ÿç‚¹ï¼ˆç¼–é˜Ÿçºµå‘æ’åˆ—çš„ä¸åŒé«˜åº¦ï¼‰è‡ªåŠ¨å¯»æ‰¾æœ€é è¿‘çš„æ­£åˆ‡ç‚¹ï¼Œç¡®ä¿é˜Ÿåˆ—ä¸­æ¯ä¸€æ¶æ•Œæœºéƒ½æ²¿å®Œå…¨ä¸€è‡´çš„è½¨è¿¹ã€‚

è‹¥éœ€è¦è¿›ä¸€æ­¥é›•åˆ»ç»†èŠ‚ï¼Œå¯åœ¨ `aiParams` åŒçº§ç»§ç»­åŠ å…¥ `entry / arc / exit` å­—æ®µï¼›è¿™äº›å­—æ®µåªä¼šè¦†ç›–è‡ªèº«æ¶‰åŠçš„å±æ€§ï¼Œå…¶ä»–éƒ¨åˆ†ä»ä½¿ç”¨è‡ªåŠ¨æ±‚è§£çš„ç»“æœã€‚

> ç¤ºä¾‹ï¼šè‹¥æƒ³è®©æ•Œæœºä»å·¦ä¾§å…¥åœºåç»•åœˆå¹¶ä»åº•éƒ¨ç¦»å¼€ï¼Œå¯è®¾ç½® `circleCenter={x:360,y:320}`ã€`radius=150`ã€`exitPoint={x:360,y:1500}`ã€`minArcDeg=315`ã€‚è¿™æ ·æ•Œæœºä¼šåœ¨åœ†å¼§å³ä¾§æŠ˜å‘ä¸‹æ–¹ï¼Œæœ€ç»ˆæ²¿å±å¹•åº•éƒ¨ç¦»åœºã€‚

**autoï¼ˆè‡ªåŠ¨åˆ‡çº¿ï¼‰**

| å­—æ®µ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `entryPoint` | æ•ŒäººçœŸå®å‡ºç”Ÿç‚¹ | èµ·å§‹åˆ‡çº¿çš„æ±‚è§£æºç‚¹ï¼Œå¯ç”¨äºå¼ºåˆ¶æ‰€æœ‰æ•Œæœºä»åŒä¸€é”šç‚¹åˆ‡å…¥ |
| `circleCenter` | å¿…å¡« | åœ†å¿ƒåæ ‡ |
| `radius` | å¿…å¡« | åœ†å¼§åŠå¾„ |
| `exitPoint` | å¿…å¡« | ç¦»åœºç»ˆç‚¹ï¼›æ›²çº¿åœ¨è¯¥ç‚¹ç»“æŸåæ²¿ç»ˆç«¯åˆ‡çº¿ç»§ç»­å‰è¿› |
| `minArcDeg` | `180` | æœ€å°ç»•è¡Œè§’åº¦ï¼ˆåº¦ï¼‰ï¼Œä¸è¶³æ—¶è‡ªåŠ¨è¡¥è¶³æ•´åœˆ |
| `clockwise` | å·¦ä¾§æ•Œäººé»˜è®¤é¡ºæ—¶é’ˆ / å³ä¾§æ•Œäººé»˜è®¤é€†æ—¶é’ˆ | å¼ºåˆ¶æŒ‡å®šç»•è¡Œæ–¹å‘ |
| `extraTurns` | `0` | é™¤æœ€å°è§’åº¦å¤–å†é¢å¤–å¢åŠ çš„æ•´åœˆæ•°é‡ |
| `entryApproachScale` | `0.6` | å…¥åœºæ®µ Hermite èµ·ç‚¹åˆ‡çº¿é•¿åº¦å æ¯” |
| `entryTangentScale` | `0.55` | å…¥åœºæ®µ Hermite ç»ˆç‚¹åˆ‡çº¿é•¿åº¦å æ¯” |
| `exitStartScale` | `0.4` | ç¦»åœºæ®µèµ·ç‚¹åˆ‡çº¿é•¿åº¦å æ¯” |
| `exitEndScale` | `0.55` | ç¦»åœºæ®µç»ˆç‚¹åˆ‡çº¿é•¿åº¦å æ¯” |
| `entrySamples` / `arcSamples` / `exitSamples` | ä½¿ç”¨ç³»ç»Ÿé»˜è®¤é‡‡æ ·æ•° | è‹¥éœ€è¦æ›´é«˜æ›²çº¿ç²¾åº¦å¯å•ç‹¬é…ç½® |

> å»ºè®®å…ˆé€šè¿‡ `auto` æè¿°æœŸæœ›çš„è¿›åœº / åœ†å¼§ä¸ç¦»åœºä½ç½®ï¼Œå†æŒ‰éœ€ä½¿ç”¨ `entry / arc / exit` è¦†ç›–ä¸ªåˆ«å­—æ®µï¼ˆå¦‚æ›´æ”¹ç¦»åœºç»ˆç‚¹çš„ç¼“å‡ºè·ç¦»æˆ–ç‰¹å®šåˆ‡çº¿è§’åº¦ï¼‰ã€‚

**æ‰‹åŠ¨ `entry` / `arc` / `exit` å­—æ®µ**

å½“æ‰‹åŠ¨å­—æ®µå­˜åœ¨æ—¶ï¼Œä¼šåœ¨è‡ªåŠ¨æ¨ç®—çš„åŸºç¡€ä¸Šè¦†ç›–å¯¹åº”çš„å‚æ•°ã€‚ä»¥ä¸‹è¡¨æ ¼åŒæ ·é€‚ç”¨äºæœªä½¿ç”¨ `auto` çš„å®Œå…¨æ‰‹åŠ¨æ¨¡å¼ã€‚

**entryï¼ˆå…¥åœºæ®µï¼‰**

| å­—æ®µ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `startY` | `-140` | æ•Œäººç”Ÿæˆæ—¶çš„åˆå§‹é«˜åº¦ï¼ˆé€šå¸¸ä¿æŒé»˜è®¤ï¼‰ |
| `targetY` | `320` | å…¥åœºæ®µç»“æŸçš„é«˜åº¦ï¼Œå†³å®šå¼§çº¿èµ·ç‚¹ä½ç½® |
| `targetX` | ç”Ÿæˆç‚¹ x | å…¥åœºæ®µç»“æŸçš„æ°´å¹³ä½ç½®ï¼ˆä¼˜å…ˆçº§é«˜äº `offsetX`ï¼‰ |
| `offsetX` / `offsetY` | `0` | ç›¸å¯¹äºç”Ÿæˆç‚¹çš„åç§»é‡ï¼Œç”¨äºå¾®è°ƒå…¥åœºåˆ‡ç‚¹ |
| `angleDeg` | `90` | å…¥åœºæ®µç»ˆç‚¹çš„åˆ‡çº¿è§’åº¦ï¼ˆ90Â° è¡¨ç¤ºæ­£ä¸‹æ–¹ï¼‰ |
| `approachAngleDeg` | `angleDeg` | å…¥åœºæ®µå¼€å¤´çš„æœå‘è§’åº¦ |
| `approachDistance` | `max(0.6 Ã— distance, 80)` | Hermite æ›²çº¿èµ·ç‚¹åˆ‡çº¿é•¿åº¦ï¼Œå½±å“å…¥åœºå¼§åº¦ |
| `tangentDistance` | `max(0.5 Ã— distance, 60)` | Hermite æ›²çº¿ç»ˆç‚¹åˆ‡çº¿é•¿åº¦ï¼Œå½±å“ä¸åœ†å¼§çš„æ‹¼æ¥ |
| `sampleCount` | `32` | å…¥åœºæ®µé‡‡æ ·ç²¾åº¦ï¼ˆè¶Šå¤§è¶Šå¹³æ»‘ï¼Œæ€§èƒ½å¼€é”€ç•¥å¢ï¼‰ |

> ç³»ç»Ÿä¼šæ ¹æ®å®é™…ç”Ÿæˆä½ç½®è‡ªåŠ¨å°†å…¥åœºæ®µå‘ä¸Šå»¶å±•åˆ°æœ€é ä¸Šçš„æ•Œäººå‡ºç”Ÿé«˜åº¦ï¼Œæ— éœ€äººå·¥è®¡ç®—é¢å¤–çš„é¢„çƒ­è·ç¦»ã€‚

**arcï¼ˆåœ†å¼§æ®µï¼‰**

| å­—æ®µ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `radius` | `150` | åœ†å¼§åŠå¾„ï¼Œæ§åˆ¶å¼§çº¿è½¬å¼¯åŠ›åº¦ |
| `spanDeg` | `270` | ç»•è¡Œè§’åº¦ï¼ˆåº¦æ•°ï¼‰ï¼Œå†³å®šå…¥åœº/ç¦»åœºè§’åº¦å·® |
| `clockwise` | å·¦ä¾§æ•Œäºº `true` / å³ä¾§æ•Œäºº `false` | å¼ºåˆ¶æŒ‡å®šå¼§çº¿æ–¹å‘ï¼ˆé¡ºæ—¶é’ˆ / é€†æ—¶é’ˆï¼‰ |
| `centerOffsetAlongTangent` | `0` | æ²¿å…¥åœºåˆ‡çº¿æ–¹å‘å¹³ç§»åœ†å¿ƒï¼ˆæ­£å€¼å‘å‰ï¼Œè´Ÿå€¼å‘åï¼‰ |
| `centerOffsetNormal` | `0` | æ²¿æ³•çº¿æ–¹å‘å¹³ç§»åœ†å¿ƒï¼ˆæ­£å€¼ç¦»å¼€å‡ºç”Ÿä¾§ï¼Œè´Ÿå€¼é è¿‘å‡ºç”Ÿä¾§ï¼‰ |
| `sampleCount` | `128` | åœ†å¼§æ®µé‡‡æ ·ç²¾åº¦ |

**exitï¼ˆç¦»åœºæ®µï¼‰**

| å­—æ®µ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `distance` | `420` | ç¦»åœºæ®µé•¿åº¦ï¼ˆæ²¿åˆ‡çº¿å»¶ä¼¸çš„è·ç¦»ï¼‰ |
| `angleDeg` | åœ†å¼§åˆ‡çº¿è§’åº¦ | ç¦»åœºæ®µæœ€ç»ˆæœå‘ï¼›æœªè®¾ç½®æ—¶è‡ªåŠ¨æ²¿åœ†å¼§åˆ‡çº¿ç»§ç»­ |
| `targetX` / `targetY` | è‡ªåŠ¨æ¨ç®— | ç›´æ¥æŒ‡å®šç¦»åœºæ®µç»ˆç‚¹ï¼ˆä¼˜å…ˆçº§é«˜äº `offset` ä¸ `distance`ï¼‰ |
| `offsetX` / `offsetY` | `0` | åœ¨è‡ªåŠ¨è®¡ç®—çš„ç»ˆç‚¹åŸºç¡€ä¸Šå†å¹³ç§» |
| `startTangentDistance` | `max(0.3 Ã— distance, 100)` | ç¦»åœºæ®µèµ·ç‚¹åˆ‡çº¿é•¿åº¦ï¼Œå½±å“è¡”æ¥é¡ºæ»‘åº¦ |
| `endTangentDistance` | `max(0.4 Ã— distance, 140)` | ç¦»åœºæ®µç»ˆç‚¹åˆ‡çº¿é•¿åº¦ï¼Œå½±å“ç›´çº¿æ®µå»¶å±• |
| `sampleCount` | `32` | ç¦»åœºæ®µé‡‡æ ·ç²¾åº¦ |

> âš ï¸ æç¤ºï¼šæ— è®ºä½¿ç”¨è‡ªåŠ¨è¿˜æ˜¯æ‰‹åŠ¨æ¨¡å¼ï¼Œç³»ç»Ÿéƒ½ä¼šå¯¹é•¿åº¦ä¸è§’åº¦åšå½’ä¸€åŒ–ï¼Œç¡®ä¿è·¯å¾„å§‹ç»ˆå¹³æ»‘è¿è´¯ã€‚è‹¥åŒä¸€å…³å¡éœ€è¦å¤šç§å¼§çº¿å½¢æ€ï¼Œå¯å¤åˆ¶ `triangle_loop` é…ç½®ä¸ºæ–°æ•Œäººå¹¶åˆ†åˆ«è®¾ç½® `aiParams`ï¼Œå¼§çº¿æµ‹è¯•ç•Œé¢ä¼šå®æ—¶åæ˜ é…ç½®å·®å¼‚ã€‚

### å°„å‡»æ¡ä»¶é…ç½®ï¼ˆshootingConditionï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `type` | string | è§¦å‘ç±»å‹ | `"on_screen"`, `"always"`, `"distance"` |
| `minDistance` | number | æœ€å°è·ç¦»ï¼ˆtype=distanceæ—¶æœ‰æ•ˆï¼‰ | `100` |
| `maxDistance` | number | æœ€å¤§è·ç¦»ï¼ˆtype=distanceæ—¶æœ‰æ•ˆï¼‰ | `500` |

**è§¦å‘ç±»å‹è¯´æ˜**ï¼š
- `on_screen`ï¼ˆé»˜è®¤ï¼‰- æ•Œäººåœ¨å±å¹•å†…æ‰å°„å‡»
- `always` - ä¸€ç›´å°„å‡»ï¼ˆæ…ç”¨ï¼‰
- `distance` - è·ç¦»ç©å®¶åœ¨æŒ‡å®šèŒƒå›´å†…æ‰å°„å‡»

### æ­»äº¡ç‰¹æ•ˆé…ç½®ï¼ˆdeathEffectï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `type` | string | çˆ†ç‚¸ç±»å‹ | `"explosion_small"`, `"explosion"`, `"explosion_large"` |
| `particleCount` | number | ç²’å­æ•°é‡ï¼ˆå¯é€‰ï¼Œè¦†ç›–é¢„è®¾ï¼‰ | `15` |

**çˆ†ç‚¸ç±»å‹è¯´æ˜**ï¼š
- `explosion_small` - å°å‹çˆ†ç‚¸ï¼ˆ10ç²’å­ï¼Œé€Ÿåº¦120-250ï¼Œé€‚åˆå°å‹æ•Œäººï¼‰
- `explosion` - æ™®é€šçˆ†ç‚¸ï¼ˆ15ç²’å­ï¼Œé€Ÿåº¦150-300ï¼Œé€‚åˆæ ‡å‡†æ•Œäººï¼‰
- `explosion_large` - å¤§å‹çˆ†ç‚¸ï¼ˆ25ç²’å­ï¼Œé€Ÿåº¦200-450ï¼Œé€‚åˆç²¾è‹±/Bossï¼‰

### é¢œè‰²å€¼è½¬æ¢

é¢œè‰²ä½¿ç”¨åè¿›åˆ¶æ•°å€¼ï¼Œè½¬æ¢æ–¹å¼ï¼š
- åå…­è¿›åˆ¶ `0x44ddff` (é’è‰²) = åè¿›åˆ¶ `17886`
- åå…­è¿›åˆ¶ `0xff4488` (ç²‰è‰²) = åè¿›åˆ¶ `16728200`
- åå…­è¿›åˆ¶ `0xffffff` (ç™½è‰²) = åè¿›åˆ¶ `16777215`

åœ¨çº¿è½¬æ¢å·¥å…·ï¼šhttps://www.rapidtables.com/convert/number/hex-to-decimal.html

### å¸¸ç”¨é¢œè‰²å‚è€ƒ

| é¢œè‰² | åå…­è¿›åˆ¶ | åè¿›åˆ¶ | è¯´æ˜ |
|------|----------|--------|------|
| éœ“è™¹è“ | 0x00b8ff | 47359 | ç©å®¶ã€å…­è¾¹å½¢ã€ä¸»UI |
| éœ“è™¹ç²‰ | 0xff0088 | 16711816 | ä¸‰è§’å½¢ã€Bossã€è­¦å‘Šã€è¿½è¸ªå¯¼å¼¹ |
| éœ“è™¹ç´« | 0xaa44ff | 11158783 | æ–¹å½¢ã€ç‰¹æ®Šé“å…· |
| éœ“è™¹é’ | 0x00ddff | 56831 | åœ†å½¢ã€åƒšæœº |
| éœ“è™¹é‡‘ | 0xffdd44 | 16768324 | ç»éªŒã€å¥–åŠ± |
| éœ“è™¹ç»¿ | 0x00ff88 | 65416 | æ²»ç–—ã€å¢ç›Š |
| éœ“è™¹æ©™ | 0xff8844 | 16746564 | çˆ†ç‚¸ã€å±é™©ã€æ•Œäººå­å¼¹ |

---

## ğŸ”« æ­¦å™¨é…ç½® (weapons.json)

### æ ¼å¼ç¤ºä¾‹

```json
{
  "version": "1.0.0",
  "weapons": [
    {
      "id": "cannon_basic",
      "category": "player",
      "name": "åŸºç¡€ç›´å°„ç‚®",
      "damage": 12,
      "fireRate": 3.0,
      "bulletSpeed": 900,
      "bulletLifetime": 2.0,
      "bulletSize": 7.8,
      "bulletColor": 16777215,
      "pierce": 0,
      "bounce": 0,
      "spreadCount": 1,
      "bulletType": "normal",
      "fireDirection": "up",
      "tags": ["kinetic", "basic"]
    },
    {
      "id": "enemy_tracking_missile",
      "category": "enemy",
      "name": "æ•Œäººè¿½è¸ªå¯¼å¼¹",
      "damage": 15,
      "fireRate": 0.8,
      "bulletSpeed": 250,
      "bulletLifetime": 5.0,
      "bulletSize": 8,
      "bulletColor": 16711816,
      "bulletType": "missile",
      "fireDirection": "player",
      "homing": {
        "enabled": true,
        "turnRate": 180,
        "trackingRange": 300
      },
      "tags": ["enemy", "tracking"]
    }
  ]
}
```

### å­—æ®µè¯´æ˜

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `id` | string | å”¯ä¸€æ ‡è¯†ç¬¦ | `"cannon_basic"` |
| `category` | string | æ­¦å™¨ç±»åˆ« | `"player"`, `"enemy"` |
| `name` | string | æ˜¾ç¤ºåç§° | `"åŸºç¡€ç›´å°„ç‚®"` |
| `damage` | number | åŸºç¡€ä¼¤å®³ | `12` |
| `fireRate` | number | å°„é€Ÿï¼ˆæ¯ç§’å°„å‡»æ¬¡æ•°ï¼‰ | `3.0` |
| `bulletSpeed` | number | å­å¼¹é€Ÿåº¦ï¼ˆåƒç´ /ç§’ï¼‰ | `900` |
| `bulletLifetime` | number | å­å¼¹ç”Ÿå‘½å‘¨æœŸï¼ˆç§’ï¼‰ | `2.0` |
| `bulletSize` | number | å­å¼¹å¤§å° | `6` |
| `bulletColor` | number | å­å¼¹é¢œè‰²ï¼ˆå¯é€‰ï¼‰ | `16777215` |
| `pierce` | number | ç©¿é€æ¬¡æ•°ï¼ˆ0=æ— ç©¿é€ï¼‰ | `0` |
| `bounce` | number | å¼¹è·³æ¬¡æ•°ï¼ˆ0=æ— å¼¹è·³ï¼‰ | `0` |
| `spreadCount` | number | æ•£å°„æ•°é‡ï¼ˆ1=å•å‘ï¼‰ | `1` |
| `spreadAngle` | number | æ•£å°„è§’åº¦ï¼ˆåº¦ï¼‰ï¼ˆå¯é€‰ï¼‰ | `30` |
| `bulletType` | string | å­å¼¹ç±»å‹ | `"normal"`, `"laser"`, `"missile"`, `"beam"` |
| `fireDirection` | string | å‘å°„æ–¹å‘ï¼ˆæ•Œäººæ­¦å™¨ç”¨ï¼‰ | `"up"`, `"down"`, `"player"`, `"forward"`, `"random"` |
| `homing` | object | è¿½è¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰ | è§ä¸‹æ–¹è¯´æ˜ |
| `tags` | string[] | æ ‡ç­¾ï¼ˆå¯é€‰ï¼‰ | `["kinetic", "basic"]` |

### å‘å°„æ–¹å‘è¯´æ˜ï¼ˆfireDirectionï¼‰

ä»…ç”¨äºæ•Œäººæ­¦å™¨ï¼Œå†³å®šå­å¼¹å‘å°„æ–¹å‘ï¼š
- `up` - å‘ä¸Šå‘å°„ï¼ˆå¾ˆå°‘ç”¨ï¼‰
- `down` - å‘ä¸‹ç›´å°„
- `player` - ç„å‡†ç©å®¶å½“å‰ä½ç½®
- `forward` - æ²¿æ•Œäººæœå‘å‘å°„
- `random` - éšæœºæ–¹å‘

### è¿½è¸ªå‚æ•°é…ç½®ï¼ˆhomingï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `enabled` | boolean | æ˜¯å¦å¯ç”¨è¿½è¸ª | `true` |
| `turnRate` | number | è½¬å‘é€Ÿç‡ï¼ˆåº¦/ç§’ï¼‰ | `180` |
| `trackingRange` | number | è¿½è¸ªèŒƒå›´ï¼ˆåƒç´ ï¼‰ | `300` |

### çˆ†å‘å°„å‡»é…ç½®ï¼ˆburstFireï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `enabled` | boolean | æ˜¯å¦å¯ç”¨çˆ†å‘æ¨¡å¼ | `true` |
| `shotsPerBurst` | number | æ¯æ¬¡çˆ†å‘çš„å­å¼¹æ•° | `3` |
| `